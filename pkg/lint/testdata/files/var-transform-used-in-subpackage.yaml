package:
  name: var-transform-used-in-subpackage
  version: 1.2.3
  epoch: 0
  description: Test package with var-transform used in subpackage
  copyright:
    - license: MIT

environment:
  contents:
    packages:
      - build-base
      - busybox

var-transforms:
  - from: ${{package.version}}
    match: (\d).(\d+).(\d+)
    replace: "$1.$2"
    to: short-version

pipeline:
  - runs: echo "main package"

subpackages:
  - name: var-transform-used-in-subpackage-dev
    description: Development files
    pipeline:
      - runs: 'echo "short version: ${{vars.short-version}}"'

update:
  enabled: true
  github:
    identifier: example/repo
